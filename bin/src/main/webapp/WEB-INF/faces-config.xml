<?xml version="1.0" encoding="UTF-8"?>
<faces-config version="2.1" xmlns="http://java.sun.com/xml/ns/javaee"
	xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee      http://java.sun.com/xml/ns/javaee/web-facesconfig_2_1.xsd">
	<!-- navigation-rule for login.xhtml -->
	<navigation-rule>
		<from-view-id>/pages/unsecure/login.xhtml</from-view-id>
		<!-- navigation-case for method login() -->
		<navigation-case>
			<from-action>#{loginMgmtBean.login}</from-action>
			<from-outcome>correct</from-outcome>
			<to-view-id>/pages/secure/choice.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-action>#{loginMgmtBean.login}</from-action>
			<from-outcome>incorrect</from-outcome>
			<to-view-id>/pages/unsecure/login.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		<!-- navigation-case for method login() -->
		<navigation-case>
			<from-action>#{loginMgmtBean.signUp}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/unsecure/register.xhtml</to-view-id>
			<redirect />
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<from-view-id>/pages/secure/listuser.xhtml</from-view-id>
		<!-- navigation-case for method login() -->
		<navigation-case>
			<from-action>#{userMB.backToAddUser}</from-action>
			<from-outcome>backform</from-outcome>
			<to-view-id>/pages/unsecure/register.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		<!-- navigation case for method logout() -->
		<navigation-case>
			<from-action>#{loginMgmtBean.logout}</from-action>
			<from-outcome>loggedout</from-outcome>
			<to-view-id>/pages/unsecure/login.xhtml</to-view-id>
			<redirect />
		</navigation-case>
	</navigation-rule>
	<!-- navigation-rule for choice.xhtml -->
	<navigation-rule>
		<from-view-id>/pages/secure/choice.xhtml</from-view-id>
		<!-- navigation-case for method login() navigation-case for method choisir() -->
		<navigation-case>
			<from-action>#{choiceMB.choisir}</from-action>
			<from-outcome>Cm</from-outcome>
			<to-view-id>/pages/secure/CM/ComptaMatiere.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-action>#{choiceMB.choisir}</from-action>
			<from-outcome>Ca</from-outcome>
			<to-view-id>/pages/secure/CA/ComptaAdmin.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-action>#{choiceMB.choisir}</from-action>
			<from-outcome>admin</from-outcome>
			<to-view-id>/pages/secure/admin/admin.xhtml</to-view-id>
			<redirect />
		</navigation-case>
	</navigation-rule>
	<!-- configuration of navigation rules -->
	<navigation-rule>
		<from-view-id>/pages/unsecure/register.xhtml</from-view-id>
		<navigation-case>
			<from-action>#{userMB.addUser}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/unsecure/login.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		<navigation-case>
			<from-action>#{userMB.addUser}</from-action>
			<from-outcome>error</from-outcome>
			<to-view-id>/pages/secure/error.xhtml</to-view-id>
			<redirect />
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<from-view-id>/pages/secure/testAjax.xhtml</from-view-id>
		<!-- navigation-case for method login() navigation case for method logout() -->
		<navigation-case>
			<from-action>#{loginMgmtBean.logout}</from-action>
			<from-outcome>loggedout</from-outcome>
			<to-view-id>/pages/unsecure/login.xhtml</to-view-id>
			<redirect />
		</navigation-case>
	</navigation-rule>
	
	<navigation-rule>
		<from-view-id>/pages/secure/*</from-view-id>
		<!-- navigation-case for method login() navigation case for method logout() -->
		<navigation-case>
			<from-action>#{topMenuMB.goToDashboard}</from-action>
			<from-outcome>dashboard</from-outcome>
			<to-view-id>/pages/secure/admin/admin.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-outcome>saisie_ref</from-outcome>
			<to-view-id>/pages/secure/CM/saisieRef.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-outcome>saisie_mat_ex</from-outcome>
			<to-view-id>/pages/secure/CM/saisieMatEx.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		
		<navigation-case>
			<from-outcome>prise_en_charge</from-outcome>
			<to-view-id>/pages/secure/CM/priseEnCharge.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		
		<navigation-case>
			<from-outcome>attribution</from-outcome>
			<to-view-id>/pages/secure/CM/attribution.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-outcome>detachement</from-outcome>
			<to-view-id>/pages/secure/CM/detachement.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		
		<navigation-case>
			<from-outcome>decharge</from-outcome>
			<to-view-id>/pages/secure/CM/decharge.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-outcome>tracabilite</from-outcome>
			<to-view-id>/pages/secure/CM/tracabilite.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-outcome>liste_mat</from-outcome>
			<to-view-id>/pages/secure/CM/listeMatStatHisto.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-outcome>edition_etats</from-outcome>
			<to-view-id>/pages/secure/CM/editionEtats.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-outcome>v_prise_en_charge</from-outcome>
			<to-view-id>/pages/secure/CM/validation/priseEnCharge.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		
		<navigation-case>
			<from-outcome>v_detenteur </from-outcome>
			<to-view-id>/pages/secure/CM/validation/attribution.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		
		<navigation-case>
			<from-outcome>v_decharge</from-outcome>
			<to-view-id>/pages/secure/CM/validation/decharge.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		
		<!-- +++++++++++++++++++++Links saisie ref+++++++++++++++++++++++++++++++++++++++++++++++ -->
		
		
		
		<navigation-case>
			<from-outcome>add_Nom</from-outcome>
			<to-view-id>/pages/secure/CM/content_forms/content_forms_saisieNomenclature.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-outcome>add_TypeMat</from-outcome>
			<to-view-id>/pages/secure/CM/content_forms/content_forms_saisieTypeMat.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-outcome>add_EtatMat</from-outcome>
			<to-view-id>/pages/secure/CM/content_forms/content_forms_saisieEtatMat.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-outcome>add_Marque</from-outcome>
			<to-view-id>/pages/secure/CM/content_forms/content_forms_saisieMarque.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-outcome>add_ListDet</from-outcome>
			<to-view-id>/pages/secure/CM/content_forms/content_forms_saisieListeDetenteur.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-outcome>add_Utilisateur</from-outcome>
			<to-view-id>/pages/secure/CM/content_forms/content_forms_saisieUtilisateurs.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-outcome>add_Bureau</from-outcome>
			<to-view-id>/pages/secure/CM/content_forms/content_forms_saisieBureau.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-outcome>add_MotifAq</from-outcome>
			<to-view-id>/pages/secure/CM/content_forms/content_forms_saisieMotifAquisition.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-outcome>add_MotifDe</from-outcome>
			<to-view-id>/pages/secure/CM/content_forms/content_forms_saisieMotifDecharge.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-outcome>add_Financement</from-outcome>
			<to-view-id>/pages/secure/CM/content_forms/content_forms_saisieFinancement.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-outcome>add_Fournisseur</from-outcome>
			<to-view-id>/pages/secure/CM/content_forms/content_forms_saisieFournisseur.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		
		
		
		
		
		<!-- ++++++++++++++++++++++++++++++Cuccess creation saisie ref++++++++++++++++++++++++++++++++++++++ -->		
		<navigation-case>
			<from-action>#{saisieNomMB.Creer}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/secure/CM/saisieRef.xhtml</to-view-id>
			<redirect />
		</navigation-case>	
		
		<navigation-case>
			<from-action>#{saisieTypeMatMB.Creer}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/secure/CM/saisieRef.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-action>#{saisieBureauMB.Creer}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/secure/CM/saisieRef.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		
		<navigation-case>
			<from-action>#{saisieFinancementMB.Creer}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/secure/CM/saisieRef.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-action>#{saisieFournisseurMB.Creer}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/secure/CM/saisieRef.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-action>#{saisieListeDetMB.Creer}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/secure/CM/saisieRef.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-action>#{saisieMarqueMB.Creer}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/secure/CM/saisieRef.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-action>#{saisieMotifAqMB.Creer}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/secure/CM/saisieRef.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-action>#{saisieMotifDeMB.Creer}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/secure/CM/saisieRef.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-action>#{saisieUtilisateurMB.Creer}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/secure/CM/saisieRef.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-action>#{saisieNomMB.Creer}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/secure/CM/saisieRef.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-action>#{saisieEtatMatMB.Creer}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/secure/CM/saisieRef.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
	</navigation-rule>
	
	<!-- JSF and Spring are integrated -->
	<application>
		<el-resolver>org.springframework.web.jsf.el.SpringBeanFacesELResolver</el-resolver>
	</application>
	<factory>
		<exception-handler-factory>com.douane.exception.CustomExceptionHandlerFactory</exception-handler-factory>
	</factory>
</faces-config>
